---
title: Docker - Публикация созданного образа
description: Docker - Get Started 04 (перевод)
date: '2023-02-19'
---

## Содержание
<DockerGetStartedContentList />

Теперь, когда вы создали образ, давайте поделимся им! Чтобы поделиться образом Docker, вы должны использовать реестр Docker. Реестр по умолчанию - Docker Hub, и именно оттуда взяты все образы, которые вы использовали.

> Docker ID
Идентификатор Docker позволяет вам получить доступ к Docker Hub, который является крупнейшей в мире библиотекой и сообществом образов контейнеров. Создайте [Docker ID](https://hub.docker.com/signup) бесплатно, если у вас его нет.

## Создание репозитория
Для публикации образа, нам сначала нужно создать репозиторий в Docker Hub

1. [Зарегистрируйтесь](https://hub.docker.com/signup) или войдите в [Docker Hub](https://hub.docker.com/).

2. Нажмите кнопку создать репозиторий(**Create Repository**).

3. Для имени репозитория используйте `getting-started`. Убедитесь, что Visibility обозначена как `public`.

>Частные(Private) репозитории
Знаете ли вы, что Docker предлагает частные репозитории, которые позволяют вам дать доступ к контенту только конкретным пользователям или командам? Ознакомьтесь с подробной информацией на странице с [ценами на Docker](https://www.docker.com/pricing?utm_source=docker&utm_medium=webreferral&utm_campaign=docs_driven_upgrade).

4. Нажмите кнопку создать(**Create**)

Если вы посмотрите на изображение ниже, можно увидеть пример команды для публикации репозитория:

<Image
  alt={`Bridge`}
  src={`/images/tr-docker-get-started/04-01.png`}
  width={996}
  height={280}
  priority
/>

## Публикуем образ
1. В командной строке попробуйте выполнить команду push, которую вы видите в Docker Hub. Обратите внимание, что ваша команда будет использовать ваше пространство имен, а не “docker”.
```bash
$ docker push docker/getting-started
 The push refers to repository [docker.io/docker/getting-started]
 An image does not exist locally with the tag: docker/getting-started
```
Почему команда не сработала? Команда push искала образ с именем `docker/getting-started`, но такового не нашла. Если вы запустите команду `docker image ls`, вы тоже его не увидите.

Чтобы исправить это, нам нужно “пометить” наш существующий образ, которое мы создали, чтобы дать ему другое имя.
2. Войдите в Docker Hub, используя команду `docker login -u YOUR-USER-NAME`.
3. Используйте команду `docker tag`, чтобы присвоить `getting-started` образу новое имя. Обязательно замените `YOUR-USER-NAME` на ваш Docker ID.
```bash
$ docker tag getting-started YOUR-USER-NAME/getting-started
```
Узнать больше про команду `docker tag` мозно [здесь](https://docs.docker.com/engine/reference/commandline/tag/).
4. Теперь попробуйте команду для публикации еще раз. Если вы копируете значение из Docker Hub, вы можете удалить часть `tagname`, поскольку мы не добавляли тег к имени образа. Если вы не укажете тег, Docker будет использовать тег с именем latest.
```bash
docker push YOUR-USER-NAME/getting-started
```

## Запускаем образ в другом окружении
Теперь, когда наш образ создан и помещен в реестр, давайте попробуем запустить наше приложение в совершенно другом окружении, которое никогда не видело этот образ контейнера! Чтобы сделать это, мы будем использовать Play with Docker.
1. Откройте сайт [Play with Docker](https://labs.play-with-docker.com/).
2. Нажмите **Login** и выберите **docker** из выпадающего списка.
3. Подключите свой Docker Hub аккаунт.
4. После этого нажмите **ADD NEW INSTANCE** в меню слева. Если вы этого не видите, сделайте свой браузер немного шире. Через несколько секунд в вашем браузере откроется окно терминала.

<Image
  alt={`Bridge`}
  src={`/images/tr-docker-get-started/04-02.png`}
  width={924}
  height={508}
  priority
/>
5. В терминале запустите только что опубликованное приложение:

```bash
$ docker run -dp 3000:3000 YOUR-USER-NAME/getting-started
```

Вы должны увидеть в терминале сообщения о том, что образ скачен и запущен

6. Нажмите на значок 3000, когда он появится, и вы должны увидеть приложение с вашими изменениями! Ура! Если значок 3000 не отображается, вы можете нажать на кнопку “Open Port” и ввести 3000.

## Следующие Шаги

В этом разделе вы узнали, как поделиться своими образами, поместив их в реестр. Затем вы перешли к совершенно новому экземпляру и смогли запустить только что загруженный образ. Это довольно распространено в конвейерах CI, где конвейер создает образ и помещает его в реестр, а затем производственная среда может использовать последнюю версию образа.

Теперь вы можете вернуться к тому, что вы заметили в конце предыдущего раздела. Напоминаю, вы заметили, что при перезапуске приложения вы потеряли все элементы своего списка дел. Очевидно, что это не очень удобно для пользователя, поэтому далее вы узнаете, как можно сохранять данные при перезапусках!

<Link href="/posts/tr-docker-get-started-05">
  <a className="text-gray-900 dark:text-white pr-6 py-4">Контейнеризация приложения</a>
</Link>
